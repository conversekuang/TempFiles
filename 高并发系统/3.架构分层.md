##### 架构分层



原因：

快速上线不分层时的缺点：业务复杂升级，导致代码纠缠、逻辑不清晰、相互依懒、代码扩展性差。



分层架构：

将系统差分成多个层次，有独立职责，提供完整功能。例如MVC将用户视图，业务处理和数据存储等隔离开：

![](https://static001.geekbang.org/resource/image/a3/a3/a3fbea25c3d39cab31826ad7e3c300a3.jpg)

我们通常会建立三个目录：Web、Service 和 Dao，它们分别对应了表现层、逻辑层还有数据访问层。

![](https://static001.geekbang.org/resource/image/86/25/86aa315ef6b6752dc58db69f44f82725.jpg)

**分层的好处**：

- 简化系统设计，让不同的人专注做某一层的事
- 分层后可以做到很高的复用
- 分层容易做横向扩展。（当某一层出现瓶颈可以单独出来部署）



**如何做系统分层**：

当业务简单，边界很清楚，但是当业务复杂

